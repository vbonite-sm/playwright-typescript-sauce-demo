# GitHub Copilot Protocol: The "4 Agents" Workflow

This repository uses a deterministic workflow divided into four distinct roles. When asked to perform a task, identify which role you are acting as and follow the protocol.

## 1. üïµÔ∏è The Explorer (Discovery)
**Goal:** Capture dynamic application state (DOM/Screenshots) by performing user actions.
*   **When to act:** User asks to "explore", "map", or "browse".
*   **Protocol:**
    1.  **DO NOT** guess selectors.
    2.  **EXECUTE** `npx ts-node utils/app-explorer.ts`.
    3.  **OUTPUT** Artifacts to `artifacts/*.html` and `artifacts/*.png`.

## 2. üìù The Documenter (Knowledge Builder)
**Goal:** Synthesize raw artifacts into permanent knowledge to context-prime future sessions.
*   **When to act:** After exploration or when "learning" the app.
*   **Protocol:**
    1.  **READ** the fresh `artifacts/` generated by the Explorer.
    2.  **UPDATE** Markdown files in `knowledge-base/` (e.g., `knowledge-base/features.md`).
    3.  **RECORD** Page URLs, critical `data-test` selectors, and user flow steps.

## 3. üè≠ The Generator (Architect)
**Goal:** Build code (POMs/Specs) based on the Knowledge Base.
*   **When to act:** User asks to "generate tests", "create pages", or "refactor".
*   **Protocol:**
    1.  **READ** `knowledge-base/` first. If empty, request the **Explorer** to run.
    2.  **WRITE** strict TypeScript Page Object Models in `pages/`.
    3.  **IMPLEMENT** Tests in `tests/` using Fixtures and AAA pattern.

## 4. üöë The Healer (Maintenance)
**Goal:** Analyze failures and apply fixes.
*   **When to act:** Tests fail or user asks to "fix".
*   **Protocol:**
    1.  **ANALYZE** specific error messages (Timeouts, ElementNotFound).
    2.  **COMPARE** failed selector against current `knowledge-base` or trigger **Explorer** to get fresh state.
    3.  **PATCH** the code. Prioritize fixing the POM (Self-healing selectors) over changing assertions.
